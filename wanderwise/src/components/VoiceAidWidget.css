:root { --bg:#0b1220; --soft:rgba(255,255,255,.08); --text:#eaf0ff; --accent:#87b7ff; --good:#59d38c; }
* { box-sizing:border-box; }
body {
  margin:0;
  background:radial-gradient(1200px 800px at 80% 20%,#13213c,#0b1220);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  min-height:100vh;
}
.widget-launcher {
  position:fixed;right:20px;bottom:20px;display:inline-flex;gap:10px;align-items:center;
  padding:12px 16px;border-radius:999px;background:linear-gradient(135deg,#1c2b4f,#12203a);
  color:#cfe2ff;border:1px solid #294373;box-shadow:0 10px 30px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.06);
  cursor:pointer;z-index:9999;
}
.widget-launcher:hover { filter:brightness(1.07); }
.pulse {
  width:10px;height:10px;border-radius:50%;background:var(--good);box-shadow:0 0 0 0 rgba(89,211,140,.7);animation:pulse 2s infinite;
}
@keyframes pulse {
  0% {
    box-shadow:0 0 0 0 rgba(89,211,140,.7);
  }
  70% {
    box-shadow:0 0 0 12px rgba(89,211,140,0);
  }
  100% {
    box-shadow:0 0 0 0 rgba(89,211,140,0);
  }
}
.panel-wrap {
  position:fixed;right:20px;bottom:80px;width:360px;max-width:calc(100vw - 40px);
  transform-origin:100% 100%;scale:.96;opacity:0;pointer-events:none;transition:.18s ease;z-index:9998;
}
.panel-wrap.open {
  scale:1;opacity:1;pointer-events:auto;
}
.panel {
  backdrop-filter:blur(14px);background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.16);border-radius:16px;overflow:hidden;box-shadow:0 30px 80px rgba(0,0,0,.45);
}
.panel-header {
  display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;
  background:linear-gradient(180deg,rgba(255,255,255,.16),transparent);
}
.brand {
  display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px;
}
.pill {
  padding:2px 8px;border-radius:999px;font-size:11px;background:rgba(135,183,255,.16);border:1px solid rgba(135,183,255,.35);color:#cfe2ff;
}
.close-btn {
  background:transparent;color:#cbd8ff;border:1px solid rgba(255,255,255,.2);width:28px;height:28px;border-radius:8px;cursor:pointer;
}
.scroll {
  padding:14px 16px;max-height:54vh;overflow:auto;
}
.row {
  display:flex;gap:10px;align-items:flex-start;margin:8px 0;
}
.msg {
  padding:10px 12px;background:var(--soft);border:1px solid rgba(255,255,255,.12);border-radius:12px;line-height:1.4;flex:1;white-space:pre-wrap;
}
.me {
  border-color:rgba(255,255,255,.22);background:rgba(135,183,255,.10);
}
.bot {
  background:rgba(255,255,255,.07);
}
.me.interim {
  opacity:.7;font-style:italic;
}
.controls {
  display:flex;gap:10px;padding:12px 16px;border-top:1px solid rgba(255,255,255,.14);align-items:center;flex-wrap:wrap;
}
.control-btn {
  flex:none;padding:10px 12px;border-radius:12px;cursor:pointer;background:#152441;color:#d9e7ff;border:1px solid #2a4373;
}
.control-btn:hover {
  filter:brightness(1.08);
}
.mic.live {
  background:#1b3e2a;border-color:#2e7d55;color:#d6ffe9;
}
.field {
  flex:1;min-width:160px;background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.18);border-radius:12px;padding:10px 12px;color:var(--text);
}
.select {
  padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:rgba(0,0,0,.25);color:var(--text);
}
.help-card {
  margin-top:10px;padding:10px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.18);
}
.help-card a {
  color:#bfe0ff;text-decoration:none;
}
.help-card a:hover {
  text-decoration:underline;
}
.action-row {
  display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;
}
.small-btn {
  padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.18);background:rgba(0,0,0,.25);color:var(--text);cursor:pointer;
}
iframe.map {
  width:100%;height:220px;border:0;border-radius:12px;margin-top:8px;
}